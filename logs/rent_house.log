2025-04-02 17:24:58,972 - event - connect_redis - line:69 - INFO - Redis connect success!"
2025-04-02 17:25:05,337 - event - connect_redis - line:69 - INFO - Redis connect success!"
2025-04-02 17:25:46,150 - exception - unicorn_exception_handler - line:66 - ERROR - 401: Could not validate credentials"
Traceback (most recent call last):
  File "D:\workspace\rent_house\services\auth.py", line 73, in get_current_user
    payload = jwt.decode(token, settings.SECRET_KEY, algorithms=[settings.ALGORITHM])
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\rent_house\.venv\Lib\site-packages\jwt\api_jwt.py", line 222, in decode
    decoded = self.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\rent_house\.venv\Lib\site-packages\jwt\api_jwt.py", line 156, in decode_complete
    decoded = api_jws.decode_complete(
              ^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\rent_house\.venv\Lib\site-packages\jwt\api_jws.py", line 209, in decode_complete
    payload, signing_input, header, signature = self._load(jwt)
                                                ^^^^^^^^^^^^^^^
  File "D:\workspace\rent_house\.venv\Lib\site-packages\jwt\api_jws.py", line 266, in _load
    raise DecodeError(f"Invalid token type. Token must be a {bytes}")
jwt.exceptions.DecodeError: Invalid token type. Token must be a <class 'bytes'>

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\workspace\rent_house\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\workspace\rent_house\.venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "D:\workspace\rent_house\.venv\Lib\site-packages\fastapi\routing.py", line 291, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\rent_house\.venv\Lib\site-packages\fastapi\dependencies\utils.py", line 638, in solve_dependencies
    solved = await call(**solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\rent_house\services\auth.py", line 78, in get_current_user
    raise credentials_exception
fastapi.exceptions.HTTPException: 401: Could not validate credentials
2025-04-02 17:31:47,480 - event - connect_redis - line:79 - INFO - Redis connect closed"
2025-04-02 17:31:52,289 - event - connect_redis - line:69 - INFO - Redis connect success!"
2025-04-02 17:33:42,887 - event - connect_redis - line:79 - INFO - Redis connect closed"
2025-04-02 17:34:17,704 - event - connect_redis - line:69 - INFO - Redis connect success!"
2025-04-02 17:34:36,595 - exception - custom_exception_handler - line:50 - ERROR - "
Traceback (most recent call last):
  File "D:\workspace\rent_house\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\workspace\rent_house\.venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "D:\workspace\rent_house\.venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\rent_house\.venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\rent_house\api\index\views.py", line 23, in api_login
    token = auth.check_user_login(db, data)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\rent_house\services\auth.py", line 37, in check_user_login
    raise CustomException(status_code=error_code, code=error_code, msg="Incorrect phone number or password")
core.exception.CustomException
2025-04-02 17:35:08,804 - exception - custom_exception_handler - line:50 - ERROR - "
Traceback (most recent call last):
  File "D:\workspace\rent_house\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\workspace\rent_house\.venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "D:\workspace\rent_house\.venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\rent_house\.venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\rent_house\api\index\views.py", line 23, in api_login
    token = auth.check_user_login(db, data)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\rent_house\services\auth.py", line 37, in check_user_login
    raise CustomException(status_code=error_code, code=error_code, msg="Incorrect phone number or password")
core.exception.CustomException
2025-04-02 17:35:25,210 - exception - custom_exception_handler - line:50 - ERROR - "
Traceback (most recent call last):
  File "D:\workspace\rent_house\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "D:\workspace\rent_house\.venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "D:\workspace\rent_house\.venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\rent_house\.venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\rent_house\api\index\views.py", line 23, in api_login
    token = auth.check_user_login(db, data)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\workspace\rent_house\services\auth.py", line 37, in check_user_login
    raise CustomException(status_code=error_code, code=error_code, msg="Incorrect phone number or password")
core.exception.CustomException
2025-04-02 17:36:17,862 - event - connect_redis - line:79 - INFO - Redis connect closed"
